# RGB++ æ·±å…¥è®¨è®º(1): å®‰å…¨æ€§åˆ†æž

## PoW æ¯”ä½ æƒ³è±¡çš„æ›´å®‰å…¨[â€‹](#pow-æ¯”ä½ æƒ³è±¡çš„æ›´å®‰å…¨ "PoW æ¯”ä½ æƒ³è±¡çš„æ›´å®‰å…¨çš„ç›´æŽ¥é“¾æŽ¥")

PoW çš„å®‰å…¨æ€§é£Žé™©åœ¨äºŽåŒºå— revert/reorgï¼Œä»Žè€Œå¯¼è‡´åŒèŠ±ã€‚åªè¦æœ‰ä¸€ä¸ªè¯šå®žçŸ¿å·¥ï¼Œç”¨æˆ·çš„çŠ¶æ€/èµ„äº§å°±ä¸ä¼šè®¡ç®—é”™è¯¯ï¼Œåªæœ‰å¯èƒ½å‡ºçŽ°å› åŒºå—é‡æ•´å¯¼è‡´çš„åŒèŠ±äº¤æ˜“æŸå¤±ã€‚å› æ­¤ PoW çš„æ ¸å¿ƒå®‰å…¨å‡è®¾å°±æ˜¯ N ä¸ªåŒºå—åŽäº¤æ˜“å°±å‡ ä¹Žä¸ä¼šè¢« revert äº†ï¼Œä¾‹å¦‚ Bitcoin æ™®éè®¤ä¸º 6 åŒºå—ç”šè‡³æ›´å°‘å³å¯ã€‚

æ˜¾ç„¶ï¼Œ6ç¡®è®¤çš„ BTC è‚¯å®šæ¯”1ç¡®è®¤æ›´å®‰å…¨ï¼Œé‚£ä¹ˆ PoW ç¡®è®¤æ•°å’Œå®‰å…¨æ€§æ˜¯çº¿æ€§å…³ç³»å—ï¼Ÿå¹¶ä¸æ˜¯ï¼Œ**æŽ¨ç¿»åŒºå—çš„éš¾åº¦éšç€åŒºå—æ·±åº¦æŒ‡æ•°å¢žé•¿**ï¼Œè¿™ä¸ªæŒ‡æ•°å¢žé•¿å…·ä½“çš„å‚æ•°å·²ç»æœ‰å‡ åç¯‡è®ºæ–‡åœ¨è®¨è®ºäº†ã€‚éšç€æ—¶é—´çš„æŽ¨ç§»ï¼Œå¤§å®¶å‘çŽ°â€œNCæ¯”ä»Žå‰ä»¥ä¸ºçš„æ›´å®‰å…¨â€ã€‚

æ ¹æ® [Ren Zhang](https://scholar.google.com/citations?hl=en&user=JB1uRvQAAAAJ) åšå£«çš„è®¡ç®—ï¼Œå‡è®¾æ•Œæ‰‹ç®—åŠ›å æ¯”30%ï¼Œè¦å®žçŽ°æ¯”ç‰¹å¸ä¸­å­¤å—çŽ‡ä¸º0ã€6ä¸ªå—ç¡®è®¤çš„å®‰å…¨æ€§ï¼Œå½“ CKB çš„å­¤å—çŽ‡è®¾å®šæˆ 2.5% çš„æ—¶å€™ï¼Œéœ€è¦23.29ä¸ªå—ç¡®è®¤å³å¯è¾¾åˆ°ç›¸åŒçš„å®‰å…¨æ€§ ã€‚é€šè¿‡è¿™æ ·çš„ç­‰ä»·å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŽç»­çš„è®¨è®ºä¸­æ–¹ä¾¿åœ°è®¨è®º RGB++ åè®®ä¸­å„ç§å…¸åž‹æ“ä½œçš„å®‰å…¨æ€§ã€‚

![alt text](https://docs.cookckb.dev/zh/assets/images/image-c8af664a1e2a579ed7c7022ea21dce18.png)

*PoW å®‰å…¨æ€§çš„ç¤ºæ„å›¾ï¼ˆéžç†è®ºè®¡ç®—*ï¼‰

## RGB çš„å®‰å…¨æ€§[â€‹](#rgb-çš„å®‰å…¨æ€§ "RGB çš„å®‰å…¨æ€§çš„ç›´æŽ¥é“¾æŽ¥")

RGB é€šè¿‡ä¸€æ¬¡æ€§å¯†å°å’Œå®¢æˆ·ç«¯éªŒè¯çš„æ–¹å¼å®žçŽ°äº†åœ¨ Bitcoin UTXO ä¸Šç»‘å®š RGB çš„çŠ¶æ€å’Œåˆçº¦ï¼Œä¸º Bitcoin æä¾›äº†å›¾çµå®Œå¤‡çš„æ‰©å±•ã€‚äº¤æ˜“å®‰å…¨æ€§æœ‰ä¸¤ç±»ï¼Œä¸€ç±»æ˜¯çŠ¶æ€è®¡ç®—çš„æ­£ç¡®æ€§ï¼›ä¸€ç±»æ˜¯äº¤æ˜“ç¡®å®šæ€§ï¼Œå³åŒèŠ±é£Žé™©ã€‚å®¢æˆ·ç«¯éªŒè¯ç¡®ä¿äº†çŠ¶æ€è®¡ç®—çš„æ­£ç¡®æ€§ï¼Œæ¯ä¸ªäººè´Ÿè´£è‡ªå·±çš„çŠ¶æ€ï¼Œä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹ã€‚è€ŒåŸºäºŽ BTC UTXO çš„ä¸€æ¬¡æ€§å¯†å°ç¡®ä¿äº†åŒèŠ± RGB çš„éš¾åº¦å’ŒåŒèŠ± BTC çš„éš¾åº¦ç›¸åŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ **RGB 100% ç»§æ‰¿äº† Bitcoin çš„å®‰å…¨æ€§**ã€‚ç”¨æˆ·éœ€è¦å¤šå®‰å…¨ï¼Œå°±æŒ‰ç…§æ¯”ä¾‹ç­‰å¾…å¤šå°‘ä¸ª BTC ç¡®è®¤å³å¯ã€‚

## RGB++ çš„å®‰å…¨æ€§[â€‹](#rgb-çš„å®‰å…¨æ€§-1 "RGB++ çš„å®‰å…¨æ€§çš„ç›´æŽ¥é“¾æŽ¥")

### L1 äº¤æ˜“å®‰å…¨æ€§[â€‹](#l1-äº¤æ˜“å®‰å…¨æ€§ "L1 äº¤æ˜“å®‰å…¨æ€§çš„ç›´æŽ¥é“¾æŽ¥")

RGB++ çš„ L1 äº¤æ˜“æŒ‡çš„æ˜¯ RGB++ äº¤æ˜“çš„ UTXO çš„"æŒæœ‰äºº" æ˜¯ Bitcoin çš„ UTXOã€‚å³åªæœ‰æ¶ˆè´¹ Bitcoin UTXO æ‰èƒ½æ“ä½œæˆ–æ›´æ–° RGB++ UTXOã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè™½ç„¶æ¯ä¸€ç¬” RGB++ äº¤æ˜“éƒ½åŒæ­¥å‘èµ·ä¸€ç¬” CKB äº¤æ˜“ï¼Œä½†å…¶å®‰å…¨æ€§å’Œ CKB æ²¡æœ‰å…³ç³»ï¼ŒCKB ä»…ä½œä¸º DA å’ŒçŠ¶æ€å…¬ç¤ºæ¥ä½¿ç”¨ã€‚**è¿™ç§æƒ…å†µä¸‹ï¼ŒRGB++ L1 çš„äº¤æ˜“å®‰å…¨æ€§å’Œ RGB äº¤æ˜“ç›¸åŒï¼Œä¹Ÿæ˜¯å®Œå…¨ç»§æ‰¿äº† BTC çš„å®‰å…¨æ€§**ã€‚

### L2 äº¤æ˜“å®‰å…¨æ€§[â€‹](#l2-äº¤æ˜“å®‰å…¨æ€§ "L2 äº¤æ˜“å®‰å…¨æ€§çš„ç›´æŽ¥é“¾æŽ¥")

L2 äº¤æ˜“å³ 100% å‘ç”Ÿåœ¨ CKB ä¸Šçš„äº¤æ˜“ï¼Œæ˜¾ç„¶å®ƒçš„å®‰å…¨æ€§ 100% ç”± CKB è´Ÿè´£ã€‚ä½†ç”±äºŽå¼€ç¯‡æå‡ºçš„ PoW å®‰å…¨çš„éžçº¿æ€§ç‰¹æ€§ï¼Œ24ä¸ªåŒºå—çš„ ckb ç¡®è®¤å³å¯ç­‰ä»·äºŽ 6 ç¡®è®¤çš„ BTC ç¡®è®¤ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´ L2 äº¤æ˜“å®‰å…¨æ€§ä¸Ž L1 äº¤æ˜“å®‰å…¨æ€§ç­‰ä»·ï¼ˆéœ€è¦æ›´å¤šåŒºå—ç¡®è®¤ï¼Œä½†äº‹å®žä¸Šæ›´çŸ­ç¡®è®¤æ—¶é—´ï¼‰ã€‚

èƒ½åšåˆ°è¿™ä¸€ç‚¹çš„å‰ææ˜¯ RGB++ çš„åŒæž„æ˜ å°„é“¾å¿…é¡»æ˜¯ PoW çš„ï¼Œå¦‚æžœå®ƒæ˜¯ PoS çš„é“¾ï¼Œæ— è®ºç­‰å¾…å¤šå°‘ä¸ªåŒºå—ï¼Œå®ƒå®‰å…¨æ€§ä¸Šé™éƒ½æ˜¯ PoS çš„ stake é‡ï¼Œæ— æ³•ä¸Ž Bitcoin å®‰å…¨æ€§ç­‰ä»·ã€‚

### Jump æ“ä½œ[â€‹](#jump-æ“ä½œ "Jump æ“ä½œçš„ç›´æŽ¥é“¾æŽ¥")

RGB++ åè®®ä¸­ç”¨æˆ·çš„èµ„äº§æ—¢å¯ä»¥åœ¨ Bitcoin ä¸Šæµè½¬ï¼Œä¹Ÿå¯ä»¥éšæ—¶åˆ° CKB ä¸Šæµè½¬ï¼Œæˆ–è€…åå‘æ“ä½œã€‚åœ¨åˆ‡æ¢çš„è¿‡ç¨‹ä¸éœ€è¦è·¨é“¾æ¡¥ï¼Œæ›´ä¸éœ€è¦ä¿¡ä»»ä»»ä½•å¤šç­¾æ–¹ã€‚æˆ‘ä»¬å°†èµ„äº§æˆ–çŠ¶æ€åœ¨ Bitcoin ä¸Šå’Œ CKB ä¸Šæµè½¬çš„åˆ‡æ¢ç§°ä¸º Jumpã€‚Jump æ“ä½œå‰åŽï¼Œå½±å“ RBG++ åè®®å®‰å…¨æ€§çš„æ ¸å¿ƒç‚¹åœ¨äºŽï¼š

+   ä¸€æ¬¡æ€§å¯†å°æ¡ï¼Œä»Žä½¿ç”¨ Bitcoin UTXO å˜ä¸ºä½¿ç”¨ CKB UTXOï¼Œæˆ–ç›¸å
+   å®¢æˆ·ç«¯éªŒè¯æ‰€éœ€è¦çš„æ•°æ®ä¿æŒä¸å˜ï¼Œéƒ½æ˜¯ CKB ä¸Šçš„åŒæž„ç»‘å®šäº¤æ˜“

Jump æ“ä½œæ—¶ï¼Œç”¨æˆ·éœ€è¦åœ¨ä¸¤æ¡é“¾ä¸Šåˆ†åˆ«ç­‰å¾…è¶³å¤Ÿçš„åŒºå—æ•°ï¼Œä»¥èŽ·å¾—å®‰å…¨æ€§ã€‚

## å…¼é¡¾ç”¨æˆ·ä½“éªŒ[â€‹](#å…¼é¡¾ç”¨æˆ·ä½“éªŒ "å…¼é¡¾ç”¨æˆ·ä½“éªŒçš„ç›´æŽ¥é“¾æŽ¥")

æ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œç­‰å¾…è¶³å¤Ÿå¤šçš„åŒºå—æ•°ç¡®å®žå¯ä»¥èŽ·å¾—è¶³å¤Ÿçš„å®‰å…¨æ€§ï¼Œä½†ç”¨æˆ·ä½“éªŒå®žåœ¨å¤ªå·®äº†ã€‚è€ƒè™‘å¹³åº¸çš„æ–¹æ¡ˆï¼Œæ¯ä¸ª RGB++ L1 äº¤æ˜“è¦ç­‰å¾… 6 ä¸ª BTC ç¡®è®¤å†è¿›è¡Œä¸‹ä¸€æ¬¡æ“ä½œï¼Œæ¯ä¸ª L2 äº¤æ˜“è¦ç­‰å¾… 24 ä¸ª CKB ç¡®è®¤å†è¿›è¡Œä¸‹ä¸€æ¬¡æ“ä½œï¼Œè€Œ Jump æ“ä½œåˆ™éœ€è¦ç­‰å¾… 6 BTC + 24 CKB ç¡®è®¤ã€‚èƒ½å¦å¯¹è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿ

### RGB æ”¶æ¬¾æ–¹ UTXO çš„ä¼˜åŒ–[â€‹](#rgb-æ”¶æ¬¾æ–¹-utxo-çš„ä¼˜åŒ– "RGB æ”¶æ¬¾æ–¹ UTXO çš„ä¼˜åŒ–çš„ç›´æŽ¥é“¾æŽ¥")

è€ƒè™‘åŽŸ RGB åè®®ï¼Œä¸ºäº†å®žçŽ°äº¤æ˜“éšç§æ€§ï¼ŒBitcoin ä¸Šå‘èµ·çš„ RGB äº¤æ˜“çš„æ”¶æ¬¾æ–¹ï¼ˆä»¥ä¸€ä¸ª Bitcoin utxo è¡¨è¾¾ï¼‰å’Œè¿™ç¬” Bitcoin äº¤æ˜“çš„ output å¹¶ä¸ä¸€è‡´ã€‚è¿™ä½¿å¾—è§‚å¯Ÿè€…æ— æ³•é€šè¿‡è¿½è¸ª bitcoin äº¤æ˜“çš„æ–¹å¼æ¥è¿½è¸ª RGB äº¤æ˜“ã€‚

ä½†åœ¨ RGB++ åè®®ä¸­ï¼Œæ‰€æœ‰çš„ RGB++ å±‚äº¤æ˜“éƒ½åŒæž„ç»‘å®šå¹¶å…¬ç¤ºåœ¨ CKB ä¸Šï¼Œå°½ç®¡æžå¤§åœ°ç®€åŒ–äº†ç”¨æˆ·çš„äº¤æ˜“éªŒè¯éš¾åº¦ï¼Œä¹Ÿè¾ƒä¸ºé—æ†¾åœ°æŸå¤±äº† RGB åè®®çš„éšåŒ¿æ€§ï¼ˆRGB++ åè®®å¯ä»¥åˆ©ç”¨ CKB çš„éšç§å±‚å¼•å…¥[æ›´ä¸ºå¼ºå¤§çš„éšç§å±žæ€§](https://forum.grin.mw/t/a-draft-design-of-mimblewimble-on-nervos-ckb/7695) ï¼‰ã€‚æ‰€ä»¥ RGB++ åè®®åœ¨æ”¶æ¬¾äººæ–¹é¢åšäº†è°ƒæ•´ï¼Œå®ƒä¸è¦æ±‚æ”¶æ¬¾æ–¹é¢„å…ˆæä¾›ä¸€ä¸ªè‡ªå·±çš„ UTXOï¼Œè€Œåªéœ€è¦æä¾›ä¸€ä¸ªæ”¶æ¬¾åœ°å€ï¼ŒRGB++ äº¤æ˜“æœ¬èº«åœ¨æž„é€  BTC äº¤æ˜“æ—¶ä¼šç”Ÿæˆä¸€ä¸ª UTXO æŒ‡å‘è¯¥æ”¶æ¬¾äººåœ°å€ã€‚è¿™æ ·å°±å¯ä»¥å®Œæˆéžäº¤äº’å¼è½¬è´¦ï¼Œå¤§å¹…ç®€åŒ–äº†ç”¨æˆ·çš„æ“ä½œæµç¨‹ã€‚æ³¨æ„ä¸‹é¢çš„ç¤ºæ„å›¾åšäº†ä¸€äº›ç®€åŒ–ï¼Œä¸ºäº†å®žçŽ°åŒæž„ç»‘å®šï¼ŒæŸäº›åŒ…å«åœ¨ BTC TX å’Œ CKB TX ä¸­çš„å­—æ®µä¸ä¼šè¢«åŒ…å«åœ¨ commitment ä¸­ï¼Œä»¥é˜²æ­¢å‡ºçŽ°äº’ç›¸åŒ…å«çš„çŸ›ç›¾ã€‚

![alt text](https://docs.cookckb.dev/zh/assets/images/image-1-a24f43c3b742d61c16440fbb36f8096c.png)

### äº¤æ˜“ä¸²æŽ¥[â€‹](#äº¤æ˜“ä¸²æŽ¥ "äº¤æ˜“ä¸²æŽ¥çš„ç›´æŽ¥é“¾æŽ¥")

ä¸Šé¢çš„ RGB éžäº¤äº’å¼è½¬è´¦çš„ä¼˜åŒ–ä¸ä»…ä»…æœ‰åˆ©äºŽæå‡ç”¨æˆ·ä½“éªŒï¼Œå¯¹äºŽäº¤æ˜“ç¡®è®¤çš„ä¼˜åŒ–ä¹Ÿæœ‰æœ¬è´¨çš„ä½œç”¨ã€‚

![alt text](https://docs.cookckb.dev/zh/assets/images/image-2-29cbf4a7722c7edf244e02547cda2265.png)

é¦–å…ˆå¯¹äºŽä¸€ä¸ªè¯šå®žçš„ç”¨æˆ·ï¼Œå°½ç®¡åŒºå— reorg ç»å¸¸å‘ç”Ÿï¼Œä½†åªè¦è¯¥ç”¨æˆ·ä¸ä¸»åŠ¨è¿›è¡ŒåŒèŠ±äº¤æ˜“ï¼ŒBTC é“¾ä¸Šæ‰“åŒ…çš„ç”¨æˆ·äº¤æ˜“æ˜¯ä¸å˜çš„ï¼Œå› æ­¤ä¸ä¼šå½±å“åˆ° CKB é“¾ä¸Šçš„ RGB++ èµ„äº§å’ŒçŠ¶æ€ã€‚

è€ƒè™‘ä¸€ç¬” L1 RGB++ äº¤æ˜“ï¼Œå‡è®¾ä¸ºäº†ç”¨æˆ·ä½“éªŒæˆ‘ä»¬å…è®¸å•å— BTC äº¤æ˜“ç¡®è®¤å³å¯å‘èµ·åŒæž„äº¤æ˜“ï¼Œå³åœ¨ CKB æž„é€ åŒæ­¥çš„ RGB++ èµ„äº§äº¤æ˜“ã€‚æ­¤æ—¶ï¼Œå¯¹äºŽæ¶æ„ç”¨æˆ·ï¼ŒTA å¯èƒ½æž„é€ ä¸€ç¬”æ–°çš„ BTC äº¤æ˜“ï¼Œå–ä»£ä¹‹å‰çš„ BTC TX Bï¼Œä½¿å¾— CKB TX Bâ€˜ æ‰¾ä¸åˆ°å¯¹åº”çš„ BTC äº¤æ˜“ï¼Œä½†è¿™æ—¶ CKB TX Bâ€™ å·²ç»ä¸Šé“¾ã€‚è¿™é‡Œçš„åŽæžœæ˜¯ï¼Œåœ¨ BTC ä¸Šè¢«åŒèŠ±çš„ btc\_utxo#2 åœ¨ CKB ä¸Šçš„åŒæž„æ˜ å°„ cell å·²ç»åœ¨ CKB TX Bâ€™ ä¸­æ¶ˆè€—äº†ï¼Œå³ä½¿ç”¨æˆ·åŒèŠ±äº† BTC ä¸Šçš„ utxoï¼Œä»–ä¹Ÿæ— æ³•åŒèŠ± RGB++ çš„èµ„äº§ï¼ŒåŒæ—¶å…ˆå‰äº¤æ˜“ç”Ÿæˆçš„ RGB++ cell è¾“å‡ºï¼ˆ lock ä¸º btc\_utxo#3ï¼‰ä¹Ÿå› ä¸ºé“¾å¼äº¤æ˜“çš„å¤±æ•ˆè€Œè¢«ç”¨å°±é”å®šã€‚æ‰€ä»¥æ¶æ„ç”¨æˆ·åœ¨ BTC ä¸ŠåšåŒèŠ±äº¤æ˜“ä¸ä¼šæœ‰ä»»ä½•æ”¶ç›Šï¼Œè¿˜ä¼šå¯¼è‡´è‡ªå·±çš„èµ„äº§å¤±æ•ˆã€‚

è€ƒè™‘ä¸€ç¬” L2 RGB++ äº¤æ˜“ï¼Œå®ƒ 100% è¿è¡Œåœ¨ CKB ä¸Šï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ç¬¦åˆåŽŸæ¥çš„äº¤æ˜“é€»è¾‘å³å¯ï¼Œå³ä¹Ÿå¯ä»¥åœ¨ dapp ä¸­èŽ·å¾—è¿žç»­æ“ä½œçš„ä½“éªŒã€‚

æœ€åŽè€ƒè™‘ä¸€ç¬” Jump æ“ä½œï¼Œç”¨æˆ·å°† RGB++ èµ„äº§ä»Žä¸€ä¸ª Bitcoin UTXO ä¸­è½¬åˆ°ä¸€ä¸ª CKB åœ°å€ä¸Šï¼ŒåŽç»­çš„æ“ä½œä¼šæŒç»­å‘ç”Ÿåœ¨ CKB ä¸Šï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦è€ƒè™‘å›  Bitcoin TX revert é€ æˆçš„ CKB ä¸Šèµ„äº§å¤åˆ¶çš„é—®é¢˜ã€‚

![alt text](https://docs.cookckb.dev/zh/assets/images/image-3-47d7b1c5992e6dc2dda81211369d51a2.png)

è€ƒè™‘ä¸Šé¢çš„äº¤æ˜“ï¼ŒBTC\_TX\_A å’Œ CKB\_TX\_B åŒæž„ç»‘å®šï¼Œä¹‹åŽ BTC\_TX\_A è¢«é‡æž„æˆ BTC\_TX\_Aâ€™ï¼Œæ­¤æ—¶åŒæž„ç»‘å®šçš„äº¤æ˜“ CKB\_TX\_Bâ€™ æ— æ³•é€šè¿‡ ckb å…±è¯†ä¸Šé“¾ï¼Œå› ä¸ºå®ƒä¾èµ–çš„ input (lock= btc\_utxo#1)å·²ç»åœ¨ CKB\_TX\_B ä¸­è¢«ä½¿ç”¨äº†ã€‚è¿™å°±å¯¼è‡´ BTC ä¸Šçš„äº¤æ˜“å’Œ CKB çš„äº¤æ˜“åŒæž„ç»‘å®šå¤±è´¥ã€‚ä½†æ³¨æ„ï¼Œå¦‚æžœåŒæž„ç»‘å®šå¤±è´¥ï¼Œä½†ç›¸å…³çš„æ‰€æœ‰èµ„äº§å‡è¢«é”å®šï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸è®¤ä¸ºå‡ºçŽ°äº†å®‰å…¨æ€§é—®é¢˜ã€‚å› ä¸ºè¿™ç§å¤±è´¥æºè‡ªäº¤æ˜“å‘èµ·äººä¸»è§‚æ”»å‡»åè®®ï¼Œé‚£ä¹ˆTAçš„æ‰€æœ‰èµ„äº§è¢«æ°¸ä¹…é”å®šä¸æ˜¯é—®é¢˜ã€‚

ä½†å›¾ç¤ºçš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬å‘çŽ° CKB ä¸Šçš„ä¸¤ä¸ªè¾“å‡ºï¼ŒRGB++ cell çš„ lock æ˜¯ btc\_utxo#2ï¼Œå®ƒä¾èµ–è¢« revert çš„æ—§çš„ BTC äº¤æ˜“ï¼Œå› æ­¤è¢«æ°¸ä¹…é”å®šï¼Œæ²¡é—®é¢˜ã€‚å•å¦ä¸€ä¸ª ckb cell åˆ™ä¸å—å½±å“ã€‚è¿™å°±é€ æˆäº†å®‰å…¨é£Žé™©ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„ lockï¼Œæš‚å®šåä¸º btc\_time\_lock é€šè¿‡æä¾›é¢å¤–çš„é”å®šé€»è¾‘æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

### BTC Time Lock[â€‹](#btc-time-lock "BTC Time Lockçš„ç›´æŽ¥é“¾æŽ¥")

btc\_time\_lock çš„æ ¸å¿ƒå‚æ•°æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ `lock_hash`ï¼Œ`after`ï¼Œå’Œ `bitcoin_tx`ã€‚å®ƒå…·ä½“çš„å«æ„æ˜¯ï¼šâ€œä»…å½“åœ¨å‚æ•°ä¸­æŒ‡å®šçš„ `bitcoin_tx` è¢«è¶…è¿‡ `after` ä¸ª btc åŒºå—ç¡®è®¤åŽï¼Œæœ¬ cell æ‰å¯ä»¥è¢«è§£é”ï¼Œä¸”è§£é”åŽéœ€è¦æ¢æˆ `lock_hash` æŒ‡å®šçš„ lockscript(ckb åœ°å€)â€ã€‚ æˆ‘ä»¬ä»¥ä¸Šé¢çš„ä¾‹å­çœ‹ä¸€ä¸‹ btc\_time\_lock æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

![alt text](https://docs.cookckb.dev/zh/assets/images/image-4-09ddd04b222a42dc97e946d3a0133773.png)

å’Œä¹‹å‰çš„è®¨è®ºç›¸åŒï¼Œå¦‚æžœ BTC\_TX\_A è¢« revert äº†ï¼Œå¯¹åº”çš„ RGB++ Cell è¢«æ°¸ä¹…é”å®šï¼Œè€Œå…¶ä»–çš„ CKB cell åˆ™æŒ‰ç…§è¦æ±‚è¢«æ”¾ç½®è‡ªå•Š btc\_time\_lock ä¸­ï¼Œä¸”ä»–ä»¬è¢«è§£é”çš„æ¡ä»¶æ˜¯ BTC\_TX\_A ç»è¿‡äº† 6 ä¸ªåŒºå—ç¡®è®¤ã€‚é‚£ä¹ˆæ˜¾ç„¶ç”±äºŽ BTC\_TX\_A ä¸å­˜åœ¨è€Œå› æ­¤è¢«æ°¸ä¹…é”å®šã€‚åè¿‡æ¥è®²ï¼Œå¦‚æžœ 6 ä¸ª btc ç¡®è®¤åŽï¼ŒBTC\_TX\_A ä»ç„¶å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥ CKB Cell å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚

## æ€»ç»“[â€‹](#æ€»ç»“ "æ€»ç»“çš„ç›´æŽ¥é“¾æŽ¥")

æ€»ç»“æ¥è¯´ï¼ŒRGB++ ä¸è®ºåœ¨ L1 è¿˜æ˜¯åœ¨ L2 ä¸Šéƒ½å¯ä»¥èŽ·å¾—ä¸Ž Bitcoin ç›¸åŒçº§åˆ«çš„å®‰å…¨æ€§ï¼Œåœ¨ L1 å’Œ L2 Jump æ—¶ï¼ŒRGB++ åè®®é¢å¤–è¦æ±‚èµ„äº§é”å®š 6 ä¸ªæˆ–æ›´å¤šçš„ BTC åŒºå—ï¼Œä»¥èŽ·å¾—åœ¨è·¨å±‚ä½¿ç”¨æ—¶ä¸€è‡´çš„å®‰å…¨æ€§ã€‚RGB++ åè®®åœ¨ä¸å¦¥åå®‰å…¨æ€§çš„å‰æä¸‹ä¸º BTC ç½‘ç»œè¿›è¡Œäº†å›¾çµå®Œå¤‡çš„è¡¥å……å’Œæ€§èƒ½çš„æ‰©å±•ã€‚

## è‡´è°¢[â€‹](#è‡´è°¢ "è‡´è°¢çš„ç›´æŽ¥é“¾æŽ¥")

> Special thanks to [Ren Zhang](https://scholar.google.com/citations?hl=en&user=JB1uRvQAAAAJ) , [Ian](https://github.com/doitian) , and [c4605](https://talk.nervos.org/u/c4605/summary) for feedback and discussion.
> 
> The RGB receiver optimization approach is inspired by [Jason Cai](https://twitter.com/CryptoStwith) .

* * *

ðŸ”—ðŸ‘‰[æŸ¥çœ‹åŽŸæ–‡](https://talk.nervos.org/t/rgb-1/7798)ï¼ŒèŽ·å¾—æ›´å¤šç²¾å½©ç•™è¨€ã€‚